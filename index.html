---
layout: default
---

<div id="gh-latest"></div>
<div class="posts">
  {% assign i = 0 %}
  {% for post in site.posts %}
    {% if forloop.index == 5 %}
      <article class="post-ad">
        <div style="text-align: center; padding-top: 18px;">
          <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CK7DK2QJ&placement=notepadjsorg" id="_carbonads_js"></script>
        </div>
      </article>
      <article class="post">

        <h1><a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a></h1>

        <div>
          <p class="post_date">{{ post.date | date: "%B %e, %Y" }}</p>
        </div>

        <div class="entry">
          {{ post.excerpt }}
        </div>

        <a href="{{ site.baseurl }}{{ post.url }}" class="read-more">Read More</a>
      </article>
    {% else %}
      <article class="post">

        <h1><a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a></h1>

        <div>
          <p class="post_date">{{ post.date | date: "%B %e, %Y" }}</p>
        </div>

        <div class="entry">
          {{ post.excerpt }}
        </div>

        <a href="{{ site.baseurl }}{{ post.url }}" class="read-more">Read More</a>
      </article>
    {% endif %}
    {% assign i = i | plus:1 %}
  {% endfor %}
</div>

<script>
    var xmlhttp = new XMLHttpRequest();
    var userMetaURL = "https://api.github.com/users/amitmerchant1990/events";
    xmlhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var userMeta = JSON.parse(this.responseText);

        for(let i = 0; i < userMeta.length; i++){
          if(userMeta[i].type == 'PushEvent'){
            var commitURL = userMeta[i].payload.commits[0].url.replace('api.', '').replace('repos/', '').replace('commits', 'commit');
            var projectURL = userMeta[i].repo.url.replace('api.', '').replace('repos/', '');
            var commitMessage = userMeta[i].payload.commits[0].message;
            var projectName = userMeta[i].repo.name;
            var commitDate = new Date(userMeta[i].created_at).toDateString();

            var ghLatestActivity = '<a class="chip yellow lighten-2">Latest commit</a>"' + '<a class="text-link" href="' + commitURL + '"' + '>' + commitMessage + '</a>' + '" at ' + '<a class="text-link" href="' + projectURL + '"' + '>' + projectName + '</a>' + ' on ' + commitDate + '.';

            document.getElementById("gh-latest").innerHTML = ghLatestActivity;
            break;
          }
        }
      }
    };
    xmlhttp.open("GET", userMetaURL, true);
    xmlhttp.send();
  </script>
